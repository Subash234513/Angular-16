<div style="width: 100%;margin-left: 5px;">
    <p style="color: black;font-size: 20px;font-weight: 500px;">
        eClaim Travel Admin Summary
    </p>
    <div style="margin-top: 25px;"  >
        <div class="table-responsive" style="width:98%;margin-top: 1%;" >
        <table class="table" style="margin-top: 10px;width: 100%;" id ='commonstyle'>
            <thead class="table_header" >
                <tr >
                    <th>S.No</th>
                    <th>Travel No</th>
                    <th>Requested Date</th>
                    <th>From Date</th>
                    <th>To Date</th>
                    <th>Maker</th>
                    <!-- <th>Raised By</th> -->
                    <th>Reason</th>
                    <!-- <th>Branch</th> -->

                    <!-- <th>Employee Grade</th> -->
                    <th>Status</th>
                    <th *ngIf="booktype == '0'">Flight</th>
                    <th *ngIf="booktype == '0'">Train</th>
                    <th *ngIf="booktype == '0'">Bus</th>
                    <th *ngIf="booktype == '0'">Cab</th>
                    <th *ngIf="booktype == '0'">Accomodation</th>
                    <th *ngIf="booktype == '5'">Flight</th>
                    <th *ngIf="booktype == '4'">Train</th>
                    <th *ngIf="booktype == '3'">Bus</th>
                    <th *ngIf="booktype == '2'">Cab</th>
                    <th *ngIf="booktype == '1'">Accomodation</th>
                    <th class="lastfixed-header" >Action</th>
                </tr>
            </thead>
            <tbody >
                <tr *ngFor="let tourapprove of gettourapproveList; index as i">
                    <td>{{(currentpage - 1)*pagesize +i+1 }} </td>
                    <td [ngStyle]="{'background':(i%2 != 0) === false ? '#fff' : '#EDF8FA' }">{{tourapprove.tourid}}</td>
                    <td>{{tourapprove.requestdate | date: 'dd-MMM-yyyy, EEE'}}</td>
                    <td>{{tourapprove.startdate | date: 'dd-MMM-yyyy, EEE'}}</td>
                    <td>{{tourapprove.enddate | date: 'dd-MMM-yyyy, EEE'}}</td>
                    <td>({{tourapprove.employee_code}}) {{tourapprove.employee_name}}</td>

                    <!-- <td>({{tourapprove.onbehalfof.code}}) {{tourapprove.onbehalfof.full_name}}</td> -->

                    <td>{{tourapprove.reason}}</td>
                    <!-- <td>({{tourapprove.branch_code}}) {{tourapprove.branch_name}}</td> -->

                    <!-- <td>{{tourapprove.empgrade}}</td> -->
                  
                        <td *ngIf='tourapprove.status_name == "PENDING" && tourapprove.apptype =="TOUR"' style="color: #f5af48;">
                            PENDING
                        </td>
                        <td *ngIf='tourapprove.status_name == "APPROVED" && tourapprove.apptype =="TOUR"' style="color: green;">
                            APPROVED <label style="color:red" *ngIf="tourapprove.no_of_cancel_request_pending > 0"> Cancellations - {{tourapprove.no_of_cancel_request_pending}} </label>
                        </td>
                        <td *ngIf='tourapprove.status_name == "REJECTED"&& tourapprove.apptype =="TOUR"' style="color: red;">
                            REJECTED
                        </td>
                        <td *ngIf='tourapprove.status_name == "RETURNED"&& tourapprove.apptype =="TOUR"' style="color: black;">
                            RETURNED
                        </td>
                        <td *ngIf='tourapprove.status_name == "FORWARDED"&& tourapprove.apptype =="TOUR"' style="color: black;">
                            FORWARDED
                        </td>

                        <td *ngIf='tourapprove.status_name == "PENDING" && tourapprove.apptype =="TourCancel"' style="color: red;">
                            TRAVEL CANCEL PENDING
                        </td>
                        <td *ngIf='tourapprove.status_name == "APPROVED" && tourapprove.apptype =="TourCancel"' style="color: red;">
                            TRAVEL CANCEL APROVED
                        </td>
                        <td *ngIf='tourapprove.status_name == "REJECTED" && tourapprove.apptype =="TourCancel"' style="color: green;">
                            TRAVEL CANCEL  REJECTED
                        </td>
                        <td *ngIf='tourapprove.status_name == "RETURNED" && tourapprove.apptype =="TourCancel"' style="color: black;">
                            TRAVEL CANCEL  RETURNED
                        </td>
                        <td *ngIf='tourapprove.status_name == "FORWARDED" && tourapprove.apptype =="TourCancel"' style="color: black;">
                            TRAVEL CANCEL   FORWARDED
                        </td>
                        <!-- before status -->
                        <td *ngIf='tourapprove.air_status_name == "BOOKED" && booktype == "0"' style="background-color: #2ea046;">
                            Booked
                           </td>
                           <td *ngIf='tourapprove.air_status_name == "NOT APPLICABLE" && booktype == "0"' style="background-color: white;">
                               Not applicable
                           </td>
                           <td *ngIf='tourapprove.air_status_name == "RESERVED" && booktype == "0"' style="background-color: white;">
                            Reserved
                        </td>
                           <td *ngIf='tourapprove.air_status_name == "CANCELLED" && booktype == "0"' style="background-color: #A0522D;">
                               Cancelled
                           </td>
                           <td *ngIf='tourapprove.air_status_name == "NOT BOOKED" && booktype == "0"'style="background-color: #d64132;">
                            Not booked
                           </td>

                           <td *ngIf='tourapprove.air_status_name == "REJECTED" && booktype == "0"'style="background-color: white;">
                            <label style="color: red;">Rejected</label> 
                           </td>
                           <td *ngIf='tourapprove.air_status_name == "IN PROGRESS" && booktype == "0"' style="background-color: #f5b048d7;">
                               In Progress
                           </td>

                           <td *ngIf='tourapprove.train_status_name == "BOOKED" && booktype == "0"' style="background-color: #2ea046;">
                               Booked
                           </td>
                           <td *ngIf='tourapprove.train_status_name == "NOT APPLICABLE" && booktype == "0"' style="background-color: white;">
                               Not applicable
                           </td>
                           <td *ngIf='tourapprove.train_status_name == "RESERVED" && booktype == "0"' style="background-color: white;">
                            Reserved
                        </td>
                           <td *ngIf='tourapprove.train_status_name == "CANCELLED" && booktype == "0"' style="background-color: #A0522D;">
                               Cancelled
                           </td>
                           <td *ngIf='tourapprove.train_status_name == "NOT BOOKED" && booktype == "0"' style="background-color: #d64132;">
                               Not booked
                           </td>
                           <td *ngIf='tourapprove.train_status_name == "REJECTED" && booktype == "0"'style="background-color: white;">
                            <label style="color: red;">Rejected</label> 
                           </td>
                           <td *ngIf='tourapprove.train_status_name == "IN PROGRESS" && booktype == "0"' style="background-color: #f5b048d7;">
                               In Progress
                           </td>
                           <td *ngIf='tourapprove.bus_status_name == "BOOKED" && booktype == "0"' style="background-color: #2ea046;">
                               Booked
                           </td>
                           <td *ngIf='tourapprove.bus_status_name == "NOT APPLICABLE" && booktype == "0"' style="background-color: white;">
                               Not applicable
                           </td>
                           <td *ngIf='tourapprove.bus_status_name == "RESERVED" && booktype == "0"' style="background-color: white;">
                            Reserved
                        </td>
                           <td *ngIf='tourapprove.bus_status_name == "CANCELLED" && booktype == "0"' style="background-color: #A0522D;">
                               Cancelled
                           </td>
                           <td *ngIf='tourapprove.bus_status_name == "NOT BOOKED" && booktype == "0"' style="background-color: #d64132;">
                               Not booked
                           </td>
                           <td *ngIf='tourapprove.bus_status_name == "REJECTED" && booktype == "0"'style="background-color: white">
                            <label style="color: red;">Rejected</label> 
                           </td>
                           <td *ngIf='tourapprove.bus_status_name == "IN PROGRESS" && booktype == "0"' style="background-color: #f5b048d7;">
                               In Progress
                           </td>
                           <td *ngIf='tourapprove.cab_status_name == "BOOKED" && booktype == "0"' style="background-color: #2ea046;">
                               Booked
                           </td>
                           <td *ngIf='tourapprove.cab_status_name == "NOT APPLICABLE" && booktype == "0"' style="background-color: white;">
                               Not applicable
                           </td>
                           <td *ngIf='tourapprove.cab_status_name == "RESERVED" && booktype == "0"' style="background-color: white;">
                            Reserved
                        </td>
                           <td *ngIf='tourapprove.cab_status_name == "CANCELLED" && booktype == "0"' style="background-color: #A0522D;">
                               Cancelled
                           </td>
                           <td *ngIf='tourapprove.cab_status_name == "NOT BOOKED" && booktype == "0"' style="background-color: #d64132;">
                               Not booked
                           </td>
                           <td *ngIf='tourapprove.cab_status_name == "REJECTED" && booktype == "0"'style="background-color:white;">
                            <label style="color: red;">Rejected</label> 
                           </td>
                           <td *ngIf='tourapprove.cab_status_name == "IN PROGRESS" && booktype == "0"' style="background-color: #f5b048d7;">
                               In Progress
                           </td>
                           <td *ngIf='tourapprove.accomodation_status_name == "BOOKED" && booktype == "0"' style="background-color: #2ea046;">
                               Booked
                           </td>
                           <td *ngIf='tourapprove.accomodation_status_name == "NOT APPLICABLE"&& booktype == "0"' style="background-color: white;">
                               Not applicable
                           </td>
                           <td *ngIf='tourapprove.accomodation_status_name == "RESERVED" && booktype == "0"' style="background-color: white;">
                            Reserved
                        </td>
                           <td *ngIf='tourapprove.accomodation_status_name == "CANCELLED"&& booktype == "0"' style="background-color: #A0522D;">
                               Cancelled
                           </td>
                           <td *ngIf='tourapprove.accomodation_status_name == "NOT BOOKED"&& booktype == "0"' style="background-color: #d64132;">
                               Not booked
                           </td>
                           <td *ngIf='tourapprove.accomodation_status_name == "REJECTED" && booktype == "0"'style="background-color: white;">
                            <label style="color: red;">Rejected</label> 
                           </td>
                           <td *ngIf='tourapprove.accomodation_status_name == "IN PROGRESS"&& booktype == "0"' style="background-color: #f5b048d7;">
                               In Progress
                           </td>
                        <!-- before status -->
                        <td *ngIf='tourapprove.air_status_name == "BOOKED" && booktype == "5"' style="background-color: #2ea046;">
                         Booked
                        </td>
                        <td *ngIf='tourapprove.air_status_name == "NOT APPLICABLE" && booktype == "5"' style="background-color: white;">
                            Not applicable
                        </td>
                        <td *ngIf='tourapprove.air_status_name == "CANCELLED" && booktype == "5"' style="background-color: #A0522D;">
                            Cancelled
                        </td>
                        <td *ngIf='tourapprove.air_status_name == "NOT BOOKED" && booktype == "5"'style="background-color: #d64132;">
                         Not booked
                        </td>
                        <td *ngIf='tourapprove.air_status_name == "REJECTED" && booktype == "5"'style="background-color: white;">
                            <label style="color: red;">Rejected</label> 
                        </td>
                        <td *ngIf='tourapprove.air_status_name == "IN PROGRESS" && booktype == "5"' style="background-color: #f5b048d7;">
                            In Progress
                        </td>
                        <td *ngIf='tourapprove.train_status_name == "BOOKED" && booktype == "4"' style="background-color: #2ea046;">
                            Booked
                        </td>
                        <td *ngIf='tourapprove.train_status_name == "NOT APPLICABLE" && booktype == "4"' style="background-color: white;">
                            Not applicable
                        </td>
                        <td *ngIf='tourapprove.train_status_name == "CANCELLED" && booktype == "4"' style="background-color: #A0522D;">
                            Cancelled
                        </td>
                        <td *ngIf='tourapprove.train_status_name == "NOT BOOKED" && booktype == "4"' style="background-color: #d64132;">
                            Not booked
                        </td>
                        <td *ngIf='tourapprove.train_status_name == "REJECTED" && booktype == "4"' style="background-color:white;">
                            <label style="color: red;">Rejected</label> 
                        </td>
                        <td *ngIf='tourapprove.train_status_name == "IN PROGRESS" && booktype == "4"' style="background-color: #f5b048d7;">
                            In Progress
                        </td>
                        <td *ngIf='tourapprove.bus_status_name == "BOOKED" && booktype == "3"' style="background-color: #2ea046;">
                            Booked
                        </td>
                        <td *ngIf='tourapprove.bus_status_name == "NOT APPLICABLE" && booktype == "3"' style="background-color: white;">
                            Not applicable
                        </td>
                        <td *ngIf='tourapprove.bus_status_name == "CANCELLED" && booktype == "3"' style="background-color: #A0522D;">
                            Cancelled
                        </td>
                        <td *ngIf='tourapprove.bus_status_name == "NOT BOOKED" && booktype == "3"' style="background-color: #d64132;">
                            Not booked
                        </td>
                        <td *ngIf='tourapprove.bus_status_name == "REJECTED" && booktype == "3"' style="background-color: white;">
                            <label style="color:red">Rejected</label> 
                        </td>
                        <td *ngIf='tourapprove.bus_status_name == "IN PROGRESS" && booktype == "3"' style="background-color: #f5b048d7;">
                            In Progress
                        </td>
                        <td *ngIf='tourapprove.cab_status_name == "BOOKED" && booktype == "2"' style="background-color: #2ea046;">
                            Booked
                        </td>
                        <td *ngIf='tourapprove.cab_status_name == "NOT APPLICABLE" && booktype == "2"' style="background-color: white;">
                            Not applicable
                        </td>
                        <td *ngIf='tourapprove.cab_status_name == "CANCELLED" && booktype == "2"' style="background-color: #A0522D;">
                            Cancelled
                        </td>
                        <td *ngIf='tourapprove.cab_status_name == "NOT BOOKED" && booktype == "2"' style="background-color: #d64132;">
                            Not booked
                        </td>
                        <td *ngIf='tourapprove.cab_status_name == "REJECTED" && booktype == "2"' style="background-color: white;">
                            <label style="color: red;">Rejected</label> 
                        </td>
                        <td *ngIf='tourapprove.cab_status_name == "IN PROGRESS" && booktype == "2"' style="background-color: #f5b048d7;">
                            In Progress
                        </td>
                        <td *ngIf='tourapprove.accomodation_status_name == "BOOKED" && booktype == "1"' style="background-color: #2ea046;">
                            Booked
                        </td>
                        <td *ngIf='tourapprove.accomodation_status_name == "NOT APPLICABLE"&& booktype == "1"' style="background-color: white;">
                            Not applicable
                        </td>
                        <td *ngIf='tourapprove.accomodation_status_name == "CANCELLED"&& booktype == "1"' style="background-color: #A0522D;">
                            Cancelled
                        </td>
                        <td *ngIf='tourapprove.accomodation_status_name == "NOT BOOKED"&& booktype == "1"' style="background-color: #d64132;">
                            Not booked
                        </td>
                        <td *ngIf='tourapprove.accomodation_status_name == "REJECTED"&& booktype == "1"' style="background-color: white;">
                            <label style="color: red;">Rejected</label> 
                        </td>
                        <td *ngIf='tourapprove.accomodation_status_name == "IN PROGRESS"&& booktype == "1"' style="background-color: #f5b048d7;">
                            In Progress
                        </td>
                        <!-- <div *ngIf="tourapprove.status == 2">PENDING</div>
        <div *ngIf="tourapprove.status == 3">APPROVED</div>
        <div *ngIf="tourapprove.status == 4">REJECTED</div>
        <div *ngIf="tourapprove.status == 5">RETURN TO MAKER</div>
        <div *ngIf="tourapprove.status == 6">FORWARD</div> -->
                    
                    <td class="lastfixed-header" [ngStyle]="{'background':(i%2 != 0) === false ? '#fff' : '#EDF8FA' }" ><span class="material-icons" matTooltip="view" (click)="tourview(tourapprove)"
                            style="color:black;">
                            <mat-icon style="color:black;" class="material-icons">
                                visibility</mat-icon>
                        </span></td>
                    <!-- <td *ngIf="gettourapproveList ?.length == 0"  colspan="10"> No Records found</td>  -->
                </tr>
            </tbody>
        </table>
    </div>
        
        <div *ngIf="gettourapproveList ?.length == 0" style="margin-left: 42%;">
            <h3>Sorry data not found!.. </h3>
        </div>
        <div class="row" *ngIf="isTourChecker">
            <div class="col-sm-12" style="font-size: small;text-align:right;margin-bottom: 3%;margin-top:2%">
                <button mat-icon-button [disabled]="has_previous === false" color="primary"
                    (click)="TourapprovepreviousClick()">
                    <mat-icon>arrow_back</mat-icon>
                </button>
                {{currentpage}}
                <button mat-icon-button [disabled]="has_next === false" color="primary"
                    (click)="TourapprovenextClick()">
                    <mat-icon>arrow_forward</mat-icon>
                </button>
            </div>
        </div>
    </div>
</div>