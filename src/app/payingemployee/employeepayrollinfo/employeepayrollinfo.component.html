<div>
    <div>
        <h2 class="center"> Pay Structure </h2>
        <mat-tab-group (selectedTabChange)="getOverViewData()">
            <p>Employee Name : <code>{{emp_name}}</code> </p>
            <mat-tab>
                <ng-template mat-tab-label>
                    <span class="pay02">Pay Info</span>
                </ng-template>

                <div class="col">
                    <form [formGroup]="emp_paysrtuctureform" autocomplete="off" (ngSubmit)="Formsubmission()">
                        <table>
                            <tr>
                                <span (click)="addSection()">
                                    <mat-icon matTooltip="Add">add_circle_outline</mat-icon>
                                </span>
                            </tr>
                        </table>
                        <div class="row col-md-12">
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-label>Employee Name</mat-label>
                                    <input matInput placeholder="Name" formControlName="employee_name"
                                        autocomplete="off" [readonly]="true">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field>
                                    <mat-label> Gross Pay</mat-label>
                                    <input matInput placeholder="Amount" formControlName="gross_pay"
                                        (keyup)="getAmount(emp_paysrtuctureform.value.gross_pay)" autocomplete="off">
                                </mat-form-field>
                            </div>
                            <!-- <div class="col-md-1">
                                <mat-checkbox class="example-margin" formControlName="disability">Disability</mat-checkbox>
                            </div> -->
                            <div class="col-md-1">
                                <mat-checkbox class="example-margin" formControlName="is_tds">TDS</mat-checkbox>
                            </div>
                            <div class="col-md-3">
                                <mat-form-field (click)="getpftype()">
                                    <mat-label>PF Type</mat-label>
                                    <input type="text" #typeinputpf matInput formControlName="pf_type"
                                        autocomplete="off" required [matAutocomplete]="pftype"
                                        (keyup)="paytype_search($event.target.value)" (keypress)="validation($event)">
                                    <mat-autocomplete [panelWidth]="300" #pftype="matAutocomplete"
                                        [displayWith]="displaypftype" (optionSelected)="handlePfTypeSelection($event)">
                                        <mat-option *ngIf="isLoading">Loading..</mat-option>
                                        <ng-container *ngIf="!isLoading">
                                            <mat-option *ngFor="let type of pftype_array" [value]="type">
                                                {{type.name}}--{{type.code}}</mat-option>
                                        </ng-container>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>
                            <div class="col-md-2">
                                <button mat-stroked-button style="margin-left: 85%;" (click)="gotoNewPay()">2.0</button>
                                <button mat-stroked-button style="margin-left: 85%;" (click)="gotoAnotherNewPay()">3.0</button>
                            </div>
                            <div class="col-md-2">
                                
                            </div>
                        </div>
                        <div class="table-responsive" style="width:95%;margin-top: 1%;">
                            <table class="table table-bordered" fixed-header style="width: 95%;margin-top: 10px;">
                                <thead class="table_header" style="text-align: left;">
                                    <tr>
                                        <th>S.No</th>
                                        <th>Paycomponent</th>
                                        <th>Type</th>
                                        <th>Percentage</th>
                                        <th>Amount</th>
                                        <!-- <th>Is Deduction</th> -->
                                        <th>Delete</th>
                                    </tr>
                                </thead>
                                <ng-container formArrayName="employeepay_detail"
                                    *ngFor="let section of getSections(emp_paysrtuctureform); let i = index">
                                    <tr [formGroupName]="i">
                                        <td>{{i+1}}</td>
                                        <td>
                                            <mat-form-field (click)="getpaymentcomponentinfo()">
                                                <mat-label>Paycomponent</mat-label>
                                                <input type="text" #typeinput matInput formControlName="paycomponent"
                                                    autocomplete="off" required [matAutocomplete]="paycom"
                                                    (keyup)="paycomponent_search($event.target.value)"
                                                    (keypress)="validation($event)">
                                                <mat-autocomplete [panelWidth]="300" #paycom="matAutocomplete"
                                                    [displayWith]="displaycom"
                                                   >
                                                    <mat-option *ngIf="isLoading">Loading..</mat-option>
                                                    <ng-container *ngIf="!isLoading">
                                                        <mat-option *ngFor="let type of paycomponent_array"
                                                            (focusout)="type_info(type,i)" [value]="type">
                                                            {{type.name}}
                                                        </mat-option>
                                                    </ng-container>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </td>
                                        <td>
                                            <mat-form-field>
                                                <mat-label>Type</mat-label>
                                                <input matInput placeholder="Type" formControlName="type_name"
                                                    autocomplete="off" readonly="true">
                                            </mat-form-field>
                                        </td>
                                        <td>
                                            <mat-form-field>
                                                <mat-label>Percentage</mat-label>
                                                <input matInput placeholder="Percentage"
                                                    formControlName="paycomponent_percentage" autocomplete="off">
                                            </mat-form-field>
                                        </td>
                                        <td>
                                            <mat-form-field>
                                                <mat-label>Amount</mat-label>
                                                <input matInput placeholder="Amount" formControlName="amount"
                                                    autocomplete="off">
                                            </mat-form-field>
                                        </td>
                                        <!-- <td>
        
                                            <mat-checkbox class="example-margin" formControlName="is_deduction">Deduction
                                            </mat-checkbox>
                                            <span>
                                                <ng-container formArrayName="deduction_data"
                                                    *ngFor="let deductions of section.controls.deduction_data.controls; let j = index">
                                    <tr [formGroupName]="j">
        
                                        <td> <mat-form-field>   
                                            <mat-label>Deduction type</mat-label>
                                            <input matInput placeholder="Amount" formControlName="type"
                                                autocomplete="off">
                                        </mat-form-field></td>
                                        <td> <mat-form-field>
                                            <mat-label>Amount</mat-label>
                                            <input matInput placeholder="Amount" formControlName="from_date"
                                                autocomplete="off">
                                        </mat-form-field></td>
                                        <td> <mat-form-field>
                                            <mat-label>Amount</mat-label>
                                            <input matInput placeholder="Amount" formControlName="to_date"
                                                autocomplete="off">
                                        </mat-form-field></td>
                                    </tr>
        
                                </ng-container>
                                </span>
        
                                </td> -->
                                        <td>
                                            <button mat-icon-button type="button"
                                                (click)="deletepay(i); delPay(section)">
                                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                                                <!-- <mat-icon style="color: black;" aria-label="Edit" (click)=removeSection(i)>
                                                  delete</mat-icon> -->
                                            </button>
                                        </td>
                                    </tr>

                                </ng-container>
                                <tr>
                                    <td colspan="3" align="right">Total </td>
                                    <!-- <td><code>{{total}}</code></td> -->
                                    <td><code>{{ total > 100 ? '' : total }}</code></td>
                                    <td colspan="2">{{ total > 100 ? '' : amount_total |currency:"INR":"symbol"}}</td>
                                </tr>
                            </table>
                        </div>
                        <div style="margin: 30px;">


                            <button type="submit" class="btn btn-outline-success text-center" [disabled]="total!=100"
                                style="border-radius: 40px;margin-left: 10px;">Submit</button>
                            <button type="button" (click)="Cancelclick()" class="btn btn-outline-primary text-center"
                                style="border-radius: 40px;margin-left: 10px;">Cancel</button>
                        </div>
                    </form>
                </div>
            </mat-tab>

            <mat-tab>
                <ng-template mat-tab-label>
                    <span class="pay02">Deductions</span>
                </ng-template>
                <div class="col">
                    <form [formGroup]="deductionform" autocomplete="off" (ngSubmit)="deductionsubmission()">
                        <table>
                            <tr>
                                <span (click)="addSection_deduction()">
                                    <mat-icon matTooltip="Add">add_circle_outline</mat-icon>
                                </span>
                            </tr>
                        </table>
                        <div class="table-responsive" style="width:95%;margin-top: 1%;">
                            <table class="table table-bordered" fixed-header style="width: 95%;margin-top: 10px;">
                                <thead class="table_header" style="text-align: left;">
                                    <tr>
                                        <th>S.No</th>
                                        <th>Deductions</th>
                                        <th>Type</th>
                                        <!-- <th>From Date</th>
                                        <th>To Date</th> -->
                                        <th>Amount</th>
                                        <th>Delete</th>
                                    </tr>
                                </thead>
                                <ng-container formArrayName="deduction_data"
                                    *ngFor="let section of getSections_de(deductionform); let i = index">
                                    <tr [formGroupName]="i">
                                        <td>{{i+1}}</td>
                                        <td>
                                            <mat-form-field (click)="getdecuctpaymentcmpt()">
                                                <mat-label>Paycomponent</mat-label>
                                                <input type="text" #typeinput1 matInput
                                                    formControlName="paycomponent_id" autocomplete="off" required
                                                    [matAutocomplete]="deductions"
                                                    (keyup)="paycomponent_search($event.target.value)"
                                                    (keypress)="validation($event)">
                                                <mat-autocomplete [panelWidth]="300" #deductions="matAutocomplete"
                                                    [displayWith]="displaycom"
                                                    (optionSelected)="getSelectedOptions($event, i)">
                                                    <mat-option *ngIf="isLoading">Loading..</mat-option>
                                                    <ng-container *ngIf="!isLoading">
                                                        <mat-option *ngFor="let type of paycomponent_arraydeduct"
                                                            [value]="type">
                                                            {{type.name}}
                                                        </mat-option>
                                                    </ng-container>
                                                </mat-autocomplete>
                                            </mat-form-field>
                                        </td>
                                        <td>
                                            <div>

                                                <mat-form-field>
                                                    <mat-label>Deduction Type</mat-label>
                                                    <mat-select formControlName="type" [(ngModel)]="defaultValue" [disabled] = true>
                                                        <mat-option *ngFor="let type of deduction_type_data"
                                                            [value]="type.id">
                                                            {{type.name}}
                                                        </mat-option>
                                                    </mat-select>
                                                </mat-form-field>

                                            </div>

                                            <span *ngIf="isCustomTypeSelected(i)">
                                                <mat-form-field style="width:50%;    margin-left: -3%;
                                            margin-right: 3%;">
                                                    <mat-label>From Date</mat-label>
                                                    <input matInput [matDatepicker]="picker"
                                                        formControlName="from_date">
                                                    <mat-datepicker-toggle matSuffix
                                                        [for]="picker"></mat-datepicker-toggle>
                                                    <mat-datepicker #picker></mat-datepicker>
                                                </mat-form-field>
                                            </span>
                                            <span *ngIf="isCustomTypeSelected(i)">
                                                <mat-form-field style="width:50%">
                                                    <mat-label>To Date</mat-label>
                                                    <input matInput [matDatepicker]="picker1" formControlName="to_date">
                                                    <mat-datepicker-toggle matSuffix
                                                        [for]="picker1"></mat-datepicker-toggle>
                                                    <mat-datepicker #picker1></mat-datepicker>
                                                </mat-form-field>
                                            </span>
                                        </td>
                                        <!-- <td>

                                            <mat-label>From Date</mat-label><br>
                                            <mat-form-field>

                                                <input matInput readonly [matDatepicker]="picker"
                                                    formControlName="from_date">
                                                <mat-datepicker-toggle class="maticonsize" matSuffix [for]="picker1">
                                                </mat-datepicker-toggle>
                                                <mat-datepicker #picker></mat-datepicker>
                                            </mat-form-field>
                                        </td>
                                        <td>

                                            <mat-label>To Date</mat-label><br>
                                            <mat-form-field>
                                                <input matInput [matDatepicker]="picker1" formControlName="to_date">
                                                <mat-datepicker-toggle class="maticonsize" matSuffix [for]="picker1">
                                                </mat-datepicker-toggle>
                                                <mat-datepicker #picker1></mat-datepicker>
                                            </mat-form-field>
                                        </td> -->
                                        <td>
                                            <mat-form-field>
                                                <mat-label>Amount</mat-label>
                                                <input matInput placeholder="Amount" formControlName="amount"
                                                    autocomplete="off">
                                            </mat-form-field>
                                        </td>

                                        <td>
                                            <button mat-icon-button type="button"
                                                (click)="deleteDeduct(i); delDeduct(section)">
                                                <i class="fa fa-trash-o" aria-hidden="true"></i>
                                                <!-- <mat-icon style="color: black;" aria-label="Edit" (click)=removeSection(i)>
                                              delete</mat-icon> -->
                                            </button>
                                        </td>
                                    </tr>

                                </ng-container>
                                <tr>
                                    <td colspan="3" align="right">Total </td>

                                    <td>{{deduction_sum |currency:"INR":"symbol"}}</td>
                                </tr>
                            </table>
                        </div>
                        <div style="margin: 30px;">


                            <button type="submit" class="btn btn-outline-success text-center"
                                style="border-radius: 40px;margin-left: 10px;">Submit</button>
                            <button type="button" (click)="Cancelclick()" class="btn btn-outline-primary text-center"
                                style="border-radius: 40px;margin-left: 10px;">Cancel</button>
                        </div>
                    </form>
                </div>
            </mat-tab>

            <mat-tab>
                <ng-template mat-tab-label>
                    <span class="pay03">Company Contribution</span>
                </ng-template>
                <form [formGroup]="emp_companycontribution" autocomplete="off" (ngSubmit)="ContribFormsubmission()">
                    <table>
                        <tr>
                            <span (click)="addSection_comcontribution()">
                                <mat-icon matTooltip="Add">add_circle_outline</mat-icon>
                            </span>
                        </tr>
                    </table>
                    <div class="table-responsive" style="width:95%;margin-top: 1%;">
                        <table class="table table-bordered" fixed-header style="width: 95%;margin-top: 10px;">
                            <thead class="table_header" style="text-align: left;">
                                <tr>
                                    <th>S.No</th>
                                    <th>Company Contribution</th>
                                    <th>Amount</th>
                                    <th>Delete</th>
                                </tr>
                            </thead>
                            <ng-container formArrayName="employeepay_details"
                                *ngFor="let section of getSections_cc(emp_companycontribution); let i = index">
                                <tr [formGroupName]="i">
                                    <td>{{i+1}}</td>
                                    <td>
                                        <mat-form-field (click)="getpaymentcomponentinfos()">
                                            <mat-label>Company Contribution</mat-label>
                                            <input type="text" #typeinput matInput formControlName="paycomponent"
                                                autocomplete="off" required [matAutocomplete]="paycom1"
                                                (keyup)="paycomponent_searchs($event.target.value)"
                                                (keypress)="validation($event)">
                                            <mat-autocomplete [panelWidth]="300" #paycom1="matAutocomplete"
                                                [displayWith]="displaycom"
                                                (optionSelected)="getSelectedOption($event, i)">

                                                <mat-option *ngIf="isLoading">Loading..</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let type of paycomponent_arrays"
                                                        (focusout)="type_infos(type,i)" [value]="type">
                                                        {{type.name}}
                                                    </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </td>
                                    <!-- <td>
                                        <mat-form-field>
                                            <mat-label>Type</mat-label>
                                            <input matInput placeholder="Type" formControlName="type_name"
                                                autocomplete="off" readonly="true">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field>
                                            <mat-label>Percentage</mat-label>
                                            <input matInput placeholder="Percentage"
                                                formControlName="paycomponent_percentage" autocomplete="off">
                                        </mat-form-field>
                                    </td> -->
                                    <td>
                                        <mat-form-field>
                                            <mat-label>Amount</mat-label>
                                            <input matInput placeholder="Amount" formControlName="amount"
                                                autocomplete="off">
                                        </mat-form-field>
                                    </td>

                                    <td>
                                        <button mat-icon-button type="button" (click)="deleteCC(i);delCompany(section)">
                                            <i class="fa fa-trash-o" aria-hidden="true"></i>
                                        </button>
                                    </td>
                                </tr>

                            </ng-container>
                            <tr>
                                <td colspan="2" align="right">Total </td>
                                <td>{{amount_totals |currency:"INR":"symbol"}}</td>
                                <!-- <td colspan="2"></td> -->
                            </tr>
                        </table>
                    </div>
                    <div style="margin: 30px;">


                        <button type="submit" class="btn btn-outline-success text-center"
                            style="border-radius: 40px;margin-left: 10px;">Submit</button>
                        <button type="button" (click)="Cancelclick()" class="btn btn-outline-primary text-center"
                            style="border-radius: 40px;margin-left: 10px;">Cancel</button>
                    </div>
                </form>
            </mat-tab>
            <mat-tab>
                <ng-template mat-tab-label>
                    <span class="pay04">Bonus</span>
                </ng-template>
                <form [formGroup]="bouspayform" autocomplete="off" (ngSubmit)="bonusSubmission()">
                    <table>
                        <tr>
                            <span (click)="addSectionBonus()">
                                <mat-icon matTooltip="Add">add_circle_outline</mat-icon>
                            </span>
                        </tr>
                    </table>

                    <div class="table-responsive" style="width:95%;margin-top: 1%;">
                        <table class="table table-bordered" fixed-header style="width: 95%;margin-top: 10px;">
                            <thead class="table_header" style="text-align: left;">
                                <tr>
                                    <th>S.No</th>
                                    <th>Bonus Component</th>
                                    <!-- <th>Type</th> -->
                                    <!-- <th>Percentage</th> -->
                                    <th>Bonus Type</th>
                                    <th>Amount</th>
                                    <!-- <th>Is Deduction</th> -->
                                    <th>Delete</th>
                                </tr>
                            </thead>
                            <ng-container formArrayName="employeepay_detail"
                                *ngFor="let section of getSections_bonus(bouspayform); let i = index">
                                <tr [formGroupName]="i">
                                    <td>{{i+1}}</td>
                                    <td>
                                        <mat-form-field (click)="getpaymentcomponentinfo()">
                                            <mat-label>Bonus component</mat-label>
                                            <input type="text" #typeinput matInput formControlName="paycomponent"
                                                autocomplete="off" required [matAutocomplete]="paycom"
                                                (keyup)="paycomponent_search($event.target.value)"
                                                (keypress)="validation($event)">
                                            <mat-autocomplete [panelWidth]="300" #paycom="matAutocomplete"
                                                [displayWith]="displaycom">
                                                <mat-option *ngIf="isLoading">Loading..</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let type of paycomponent_array"
                                                        (focusout)="type_infob(type,i)" [value]="type">
                                                        {{type.name}}
                                                    </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>

                                        </mat-form-field>
                                    </td>
                                    <!-- <td>
                                        <mat-form-field>
                                            <mat-label>Percentage</mat-label>
                                            <input matInput placeholder="Percentage"
                                                formControlName="paycomponent_percentage" autocomplete="off">
                                        </mat-form-field>
                                    </td> -->
                                    <td>
                                        <mat-form-field (click)="deduction_type()">
                                            <mat-label>Bonus Type</mat-label>
                                            <mat-select formControlName="type">
                                                <mat-option *ngFor="let type of deduction_type_data" [value]="type.id">
                                                    {{type.name}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>

                                        <!-- <span *ngIf="isCustomTypeSelect()">
                                            <mat-form-field style="width:50%;    margin-left: -3%;
                                        margin-right: 3%;">
                                                <mat-label>From Date</mat-label>
                                                <input matInput [matDatepicker]="picker"
                                                    formControlName="from_date">
                                                <mat-datepicker-toggle matSuffix
                                                    [for]="picker"></mat-datepicker-toggle>
                                                <mat-datepicker #picker></mat-datepicker>
                                            </mat-form-field>
                                        </span>
                                        <span *ngIf="isCustomTypeSelect()">
                                            <mat-form-field style="width:50%">
                                                <mat-label>To Date</mat-label>
                                                <input matInput [matDatepicker]="picker" formControlName="to_date">
                                                <mat-datepicker-toggle matSuffix
                                                    [for]="picker"></mat-datepicker-toggle>
                                                <mat-datepicker #picker></mat-datepicker>
                                            </mat-form-field>
                                        </span> -->

                                    </td>
                                    <td>
                                        <mat-form-field>
                                            <mat-label>Amount</mat-label>
                                            <input matInput placeholder="Amount" formControlName="amount"
                                                autocomplete="off">
                                        </mat-form-field>
                                    </td>


                                    <td>
                                        <button mat-icon-button type="button"
                                            (click)="deleteSectionBonus(i);delCompany(section)">
                                            <i class="fa fa-trash-o" aria-hidden="true"></i>
                                            <!-- <mat-icon style="color: black;" aria-label="Edit" (click)=removeSection(i)>
                                              delete</mat-icon> -->
                                        </button>
                                    </td>
                                </tr>

                            </ng-container>
                            <tr>
                                <td colspan="4" align="right">Total </td>
                                <td><code></code>{{bonus_amount |currency:"INR":"symbol"}}</td>
                                <td colspan="2"></td>
                            </tr>
                        </table>
                    </div>
                    <div style="margin: 30px;">


                        <button type="submit" class="btn btn-outline-success text-center"
                            style="border-radius: 40px;margin-left: 10px;">Submit</button>
                        <button type="button" (click)="Cancelclick()" class="btn btn-outline-primary text-center"
                            style="border-radius: 40px;margin-left: 10px;">Cancel</button>
                    </div>
                </form>
            </mat-tab>

            <mat-tab>
                <ng-template mat-tab-label>
                    <span class="pay05">Others</span>
                </ng-template>
                <form [formGroup]="otherpayForm" autocomplete="off">
                    <table>
                        <tr>
                            <span (click)="addSectionOthers()">
                                <mat-icon matTooltip="Add">add_circle_outline</mat-icon>
                            </span>
                        </tr>
                    </table>

                    <div class="table-responsive" style="width:95%;margin-top: 1%;">
                        <table class="table table-bordered" fixed-header style="width: 95%;margin-top: 10px;">
                            <thead class="table_header" style="text-align: left;">
                                <tr>
                                    <th>S.No</th>
                                    <th>Paycomponent</th>
                                    <th>Type</th>
                                    <th>Percentage</th>
                                    <th>Amount</th>
                                    <!-- <th>Is Deduction</th> -->
                                    <th>Delete</th>
                                </tr>
                            </thead>
                            <ng-container formArrayName="employeepay_detail"
                                *ngFor="let section of getSections_others(otherpayForm); let i = index">
                                <tr [formGroupName]="i">
                                    <td>{{i+1}}</td>
                                    <td>
                                        <mat-form-field (click)="getpaymentcomponentinfo()">
                                            <mat-label>Other Components</mat-label>
                                            <input type="text" matInput formControlName="otherpaycomponent" required>

                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field>
                                            <mat-label>Type</mat-label>
                                            <input matInput placeholder="Type" formControlName="type_name"
                                                autocomplete="off" readonly="true">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field>
                                            <mat-label>Percentage</mat-label>
                                            <input matInput placeholder="Percentage"
                                                formControlName="paycomponent_percentage" autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                    <td>
                                        <mat-form-field>
                                            <mat-label>Amount</mat-label>
                                            <input matInput placeholder="Amount" formControlName="amount"
                                                autocomplete="off">
                                        </mat-form-field>
                                    </td>
                                    <!-- <td>
    
                                        <mat-checkbox class="example-margin" formControlName="is_deduction">Deduction
                                        </mat-checkbox>
                                        <span>
                                            <ng-container formArrayName="deduction_data"
                                                *ngFor="let deductions of section.controls.deduction_data.controls; let j = index">
                                <tr [formGroupName]="j">
    
                                    <td> <mat-form-field>   
                                        <mat-label>Deduction type</mat-label>
                                        <input matInput placeholder="Amount" formControlName="type"
                                            autocomplete="off">
                                    </mat-form-field></td>
                                    <td> <mat-form-field>
                                        <mat-label>Amount</mat-label>
                                        <input matInput placeholder="Amount" formControlName="from_date"
                                            autocomplete="off">
                                    </mat-form-field></td>
                                    <td> <mat-form-field>
                                        <mat-label>Amount</mat-label>
                                        <input matInput placeholder="Amount" formControlName="to_date"
                                            autocomplete="off">
                                    </mat-form-field></td>
                                </tr>
    
                            </ng-container>
                            </span>
    
                            </td> -->
                                    <td>
                                        <button mat-icon-button type="button" (click)="deleteSectionOthers(i)">
                                            <i class="fa fa-trash-o" aria-hidden="true"></i>
                                            <!-- <mat-icon style="color: black;" aria-label="Edit" (click)=removeSection(i)>
                                              delete</mat-icon> -->
                                        </button>
                                    </td>
                                </tr>

                            </ng-container>
                            <tr>
                                <td colspan="3" align="right">Total </td>
                                <td><code></code></td>
                                <td colspan="2"></td>
                            </tr>
                        </table>
                    </div>
                    <div style="margin: 30px;">


                        <button type="submit" class="btn btn-outline-success text-center"
                            style="border-radius: 40px;margin-left: 10px;">Submit</button>
                        <button type="button" (click)="Cancelclick()" class="btn btn-outline-primary text-center"
                            style="border-radius: 40px;margin-left: 10px;">Cancel</button>
                    </div>
                </form>
            </mat-tab>

            <mat-tab label="Overview" class="pay06">
                <div class="overview" style="font-family: Verdana, Geneva, Tahoma, sans-serif;padding:5%">
                    <!-- <div style="text-align: center;font-family: Verdana, Geneva, Tahoma, sans-serif;">Pay Structure
                    </div> -->
                    <!-- <table> -->
                    <!-- <tr>
                            <th>Employee Name</th>
                            <td style="    padding-left: 14%;
                            width: 74%;">{{emp_name}}</td>

                            <th>Gross Pay</th>
                            <td style="    padding-left: 14%;
                            width: 74%;">&#8377;50000</td>
                        </tr> -->
                    <!-- <tr>
                            <th>PF Type</th>
                            <td style="    padding-left: 14%;
                            width: 74%;">{{emp_name}}</td>
                        </tr> -->
                    <!-- </table> -->

                    <div id="heading">
                        <div class="salary-slip" style="font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif">
                            <div class="headers">
                                <div class="company-logos">
                                    <img src="../../../assets/images/vsolv.png" alt="VSOLV Logo">
                                </div>
                                <div class="company-names">
                                    Vsolv Engineering Pvt Ltd

                                </div>
                            </div>

                            <!-- <div class="pay-slip">
                              <h3 style="margin-top: 2%;">PAY STRUCTURE</h3>
                            </div> -->
                        </div>
                    </div>
                    <div id="tablesection">
                        <table style="width: 94%;font-family: Calibri;margin-left: 3%;" id="previewTable">
                            <tr>
                                <th colspan="3" id="ths" style="font-size: large;text-align: center;">Pay Structure</th>
                            </tr>
                            <tr>
                                <th colspan="3" id="ths">Employee Name &nbsp;:&nbsp;&nbsp;<span
                                        style="font-weight: normal;">{{emp_name}}</span></th>
                                <!-- <td style="padding-left: 3%;">{{emp_name}}</td> -->
                            </tr>
                            <tr *ngFor="let user of userdata; let i = index">
                                <th colspan="3" id="ths">Gross Pay &nbsp;:&nbsp;&nbsp;<span
                                        style="font-weight: normal;">{{user.gross_pay}}</span></th>
                                <!-- <td style="padding-left: 3%;">{{emp_name}}</td> -->
                            </tr>
                            <tr *ngFor="let user of userdata; let i = index">
                                <th colspan="3" id="ths">PF Type &nbsp;:&nbsp;&nbsp;<span
                                        style="font-weight: normal;">{{user.pf_type.name}}</span></th>
                                <!-- <td style="padding-left: 3%;">{{emp_name}}</td> -->
                            </tr>
                            <tr>
                                <!-- <th id="ths" >S. No</th> -->
                                <th id="ths">Description</th>
                                <th id="ths">Gross Amount</th>
                            </tr>
                            <tr>
                                <th colspan="3" id="ths" style="font-size: large;">Earnings</th>
                            </tr>
                          


                            <ng-container *ngIf="userdata && userdata.length > 0 && userdata[0]?.employeepay_detail">
                                <tr *ngFor="let user of userdata[0].employeepay_detail; let i = index">
                                    <ng-container *ngIf="!user.company_contribution">
                                        <ng-container *ngIf="(user?.paycomponent?.allowance_type?.name | uppercase) !== 'BONUS'">
                                            <td id="tds">{{ user.company_contribution? user?.company_contribution?.name :
                                                user.paycomponent?.name }}</td>
                                            <td id="tds">{{ user.amount | number: '1.0-0'}}.00</td>
                                        </ng-container>
                                    </ng-container>

                                </tr>
                            </ng-container>
                            <tr style="background-color: gainsboro;">
                                <td id="tds" style="font-weight: bold;">Total(A)</td>
                                <td id="tds" style="font-weight: bold;">{{totalA| number: '1.0-0'}}.00</td>
                            </tr>

                            <tr>
                                <th colspan="3" id="ths" style="font-size: large;">Bonus</th>
                            </tr>

                            <ng-container *ngIf="userdata && userdata.length > 0 && userdata[0]?.employeepay_detail">
                                <tr *ngFor="let user of userdata[0].employeepay_detail; let i = index">
                                    <ng-container *ngIf="!user.company_contribution">
                                        <ng-container *ngIf="(user?.paycomponent?.allowance_type?.name | uppercase ) === 'BONUS'">
                                            <td id="tds">{{ user.company_contribution? user.company_contribution.name :
                                                user.paycomponent?.name }}</td>
                                            <td id="tds">{{ user.amount | number: '1.0-0'}}.00</td>
                                        </ng-container>
                                    </ng-container>

                                </tr>
                            </ng-container>
                            <tr style="background-color: gainsboro;font-weight: bold;">
                                <td id="tds">Total(B)</td>
                                <td id="tds" style="font-weight: bold;">{{totalB| number: '1.0-0'}}.00</td>
                            </tr>


                            <tr>
                                <th colspan="3" id="ths" style="font-size: large;">Deductions</th>
                            </tr>


                            <ng-container *ngIf="userdata && userdata.length > 0 && userdata[0]?.deduction_data">
                                <tr *ngFor="let user of userdata[0].deduction_data; let i = index">

                                    <td id="tds">{{ user.paycomponent?.name }}</td>
                                    <td id="tds">{{ user.amount | number: '1.0-0'}}.00</td>

                                </tr>
                            </ng-container>

                            <tr style="background-color: gainsboro;font-weight: bold;">
                                <td id="tds">Total(C)</td>
                                <td id="tds" style="font-weight: bold;">{{totalC| number: '1.0-0'}}.00</td>
                            </tr>
                            <tr>
                                <th colspan="3" id="ths" style="font-size: large;">Company Contribution</th>
                            </tr>

                            <ng-container *ngIf="userdata && userdata.length > 0 && userdata[0]?.employeepay_detail">
                                <tr *ngFor="let user of userdata[0].employeepay_detail; let i = index">
                                    <ng-container *ngIf="user.company_contribution">
                                        <td id="tds">{{ user.company_contribution.name }}</td>
                                        <td id="tds">{{ user.amount | number: '1.0-0'}}.00</td>
                                    </ng-container>
                                </tr>
                            </ng-container>
                            <tr style="background-color: gainsboro;font-weight: bold;">
                                <td id="tds">Total(D)</td>
                                <td id="tds" style="font-weight: bold;">{{totalD| number: '1.0-0'}}.00</td>
                            </tr>

                            <!-- <tr>
                                <th id="ths">Take Home</th>
                                <td ids="tds">{{totals}}</td>
                            </tr> -->
                         
                            <tr>
                                <td id="tds" style="font-weight: bold;">Take Home</td>
                                <td id="tds" style="font-weight: bold;">{{takeHome| number: '1.0-0'}}.00</td>
                            </tr>

                            <tr>
                                <th id="ths" style="font-size: large;">Total CTC</th>
                                <td ids="tds" style="font-weight: bold;font-size: large;">{{totals| number: '1.0-0'}}.00</td>
                            </tr>

                        </table>
                    </div>
                </div>

            </mat-tab>
        </mat-tab-group>




    </div>

