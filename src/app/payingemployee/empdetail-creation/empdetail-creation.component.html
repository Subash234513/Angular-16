<div>
    <mat-card class="marginposition">
        <!-- <div class="">
            <div class="navbar navbar-expand-md bg-light">
                <ul class="navbar-nav">
                    <li class="nav-item PersonalInfo click" style="cursor:pointer; margin-left:20px" (click)="PersonalInfo()">Personal Information</li>
                    <li class="nav-item navitem Address" (click)="Address()">Address</li>
                    <li class="nav-item navitem EmployeeBank" (click)="EmployeeBank()">Employee Bank </li>
                    <li class="nav-item navitem">Additional</li>
                </ul>
            </div>
        </div> -->
    <div class="container-fluid col-12 mt-3">
            
        <div>
            <mat-horizontal-stepper [linear]="isLinear" #stepper labelPosition="bottom">
                <mat-step [stepControl]="empAddForm" label="Personal Information" state="person">
            <!-- <h2>Personal Information</h2> -->
                <form [formGroup]="candidateForm">
                    <!-- <tr class="col-12">
                        <td > -->
                    <div class="col-12 row" *ngIf="personalInformation">
                        <div class="col-4">
                                <mat-label>Candidate</mat-label><br>
                                <mat-form-field class="matformfieldform"
                                    (click)="candidateName()" class="width">
                                    <input #candidateInput matInput formControlName="candidate_id" placeholder="Select Candidate" [matAutocomplete]="candidate" class="font">
                                        <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                    <mat-autocomplete #candidate="matAutocomplete" [displayWith]="displayFnCan"
                                    (opened)="autocompleteCanScroll()" class="width">
                                        <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                        <ng-container *ngIf="!isLoading">
                                            <mat-option *ngFor="let can of candidateList" (focusout)="FocusOut_select_Candidate(can)" [value]="can">
                                                {{can.full_name}}
                                            </mat-option>

                                            <mat-option *ngIf="!candidateList ||  !candidateList.length">
                                                No Records Found
                                              </mat-option>
                                        </ng-container>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>
                            <div class="col-4"></div>
                            <div class="col-4"></div>
                        </div>
                                <!-- </td>
                        
                </tr> -->
                </form>
            <!-- </mat-step> -->
            <!-- <mat-step [stepControl]="empAddForm" label="Address" state="contact_mail"> -->
                
                <form [formGroup]="empAddForm">
                    <!-- <table> -->
                        <!-- <div class="col-12"> -->
                            <!-- <tr>
                                <td> -->
                                <div *ngIf="personalInformation">
                                    <div class="col-12 row">

                                    
                                        <div class="col-md-4">
                                            <mat-label>First Name</mat-label><br>
                                            <mat-form-field class="matformfieldform" class="width">
                                                <input matInput placeholder="First Name" [readonly]="true" formControlName="first_name"
                                                        autocomplete="off">
                                            </mat-form-field>
                                        </div>
                                    <!-- </td> -->
        
                                    <!-- <td> -->
                                        <div class="col-md-4">
                                            <mat-label class="">Middle Name</mat-label><br>
                                            <mat-form-field class="matformfieldformleft" class="width">
                                                <input matInput placeholder="Middle Name" [readonly]="true" formControlName="middle_name"
                                                        autocomplete="off">
                                            </mat-form-field>
                                        </div>
                                        
                                    <!-- </td>
                                    <td> -->
                                        <div class="col-md-4">
                                            <mat-label class="">Last Name</mat-label><br>
                                            <mat-form-field class="matformfieldformleft" class="width">
                                                <input matInput placeholder="Last Name" [readonly]="true" formControlName="last_name"
                                                        autocomplete="off">
                                            </mat-form-field>
                                        </div>
                                </div>
                                <!-- </td>
                            </tr> -->
                            <!-- <tr>
                                <td> -->
                                <div class="col-12 row">
                                    <div class="col-md-4">

                                    
                                    <mat-label>Full Name</mat-label><br>
                                    <mat-form-field class="matformfieldform width">
                                        <input matInput placeholder="Full Name" [readonly]="true" formControlName="full_name"
                                                autocomplete="off">
                                    </mat-form-field>
                                </div>
                                <!-- </td>
                                <td> -->
                                    <div class="col-md-4">
                                    <mat-label class="matformfieldformleft">Gender</mat-label><br>
                                    <mat-form-field class=" width">
                                        <mat-select disabled formControlName="gender" [placeholder]="'Gender'">
                                            <mat-option *ngFor="let gender of genderList" [value]="gender.id">
                                                {{gender.text}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <!-- </td>
                                <td> -->
                                    <div class="col-md-4">
                                    <mat-label class="matformfieldformleft">Email ID</mat-label><br>
                                    <mat-form-field class="matformfieldformleft width">
                                        <input matInput  [readonly]="true" placeholder="Email" formControlName="email_id" autocomplete="off">
                                    </mat-form-field>
                                </div>
                                </div>
                                <!-- </td>
                            </tr>  -->
                            <!-- <tr>
                                <td> -->
                                    <div class="col-12 row">
                                        <div class="col-md-4">
                                    <mat-label>Date of Birth</mat-label><br>
                                    <mat-form-field class="matformfieldform">
        
                                        <input matInput readonly [matDatepicker]="picker1"
                                             formControlName="dob">
                                        <mat-datepicker-toggle class="maticonsize" [disabled]="true" matSuffix [for]="picker1">
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #picker1></mat-datepicker>
                                    </mat-form-field>
                                </div>
                                <!-- </td>
                                <td> -->
                                    <div class="col-md-4">
                                    <mat-label class="matformfieldformleft">Date of Joining<label class="color">*</label></mat-label><br>
                                    <mat-form-field class="matformfieldformleft commonstyle">
        
                                        <input matInput readonly [matDatepicker]="picker2"
                                             formControlName="doj">
                                        <mat-datepicker-toggle class="maticonsize" matSuffix [for]="picker2">
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #picker2></mat-datepicker>
                                    </mat-form-field>
                                </div>
                                <!-- </td>
                                <td> -->
                                    <div class="col-md-4">
                                    <mat-label class="matformfieldformleft">Work Mode<label class="color">*</label></mat-label><br>
                                    <mat-form-field class="matformfieldformleft commonstyle">
                                        <mat-select formControlName="workmode" [placeholder]="'Work Mode'">
                                            <mat-option *ngFor="let work of workmodeList" 
                                                [value]="work.id">
                                                {{work.text}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                </div>
                                <!-- </td> -->
                                <!-- <td>
                                    <mat-label class="matformfieldformleft">Actual Date of Joining</mat-label><br>
                                    <mat-form-field class="matformfieldformleft">
                                        <input matInput readonly [matDatepicker]="picker3"
                                             formControlName="actual_doj">
                                        <mat-datepicker-toggle class="maticonsize" matSuffix [for]="picker3">
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #picker3></mat-datepicker>
                                    </mat-form-field>
                                </td> -->
                            <!-- </tr> -->
                            <!-- <tr>
                                <td> -->
                                    <div class="col-12 row">
                                        <div class="col-md-4">
                                    <mat-label>Mobile</mat-label><br>
                                    <mat-form-field class="matformfieldform">
                                        <input matInput formControlName="phone_no" [readonly]="true" placeholder="Mobile" autocomplete="off"
                                            pattern="\d{10}" (keypress)="numberOnly($event)" maxlength="10">
                                    </mat-form-field>
                                </div>
                                <!-- </td> -->
                                <!-- <td>
                                    <mat-label class="matformfieldformleft">Account No</mat-label><br>
                                    <mat-form-field class="matformfieldformleft">
                                        <input matInput (keypress)="omit_special_char($event)" placeholder="Account No"
                                        [maxlength]="maxlength" formControlName="accountnumber" autocomplete="off">
                                    </mat-form-field>
                                </td> -->
                                <!-- <td> -->
                                    <div class="col-md-4">
                                    <mat-label class="matformfieldformleft">Designation<label class="color">*</label></mat-label><br>
                                    <mat-form-field class="matformfieldformleft commonstyle" (click)="designationname()">
                                        <input #designationInput matInput placeholder="Select Designation"
                                formControlName="designation_id" autocomplete="off" [matAutocomplete]="desg">
                                <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                            <mat-autocomplete #desg="matAutocomplete" [displayWith]="displayFnDesg"
                                (opened)="designationScroll()">
                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                <ng-container *ngIf="!isLoading">
                                    <mat-option *ngFor="let designation of designationList" [value]="designation">
                                        {{designation.name}}
                                    </mat-option>
                                </ng-container>
                            </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                                <!-- </td>
                                <td> -->
                                    <div class="col-md-4">
                                    <mat-label class="matformfieldformleft">Grade<label class="color">*</label></mat-label><br>
                                    <mat-form-field class="matformfieldformleft commonstyle"
                                        (click)="gradeName()">
                                        <input #rmInput matInput placeholder="Select Role"
                                            formControlName="grade" [matAutocomplete]="rmemp">
                                            <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                        <mat-autocomplete #rmemp="matAutocomplete" [displayWith]="displayFnGrade"
                                            (opened)="autocompleteGradeScroll()">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let grade of gradeList" [value]="grade">
                                                    {{grade.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                                <!-- </td>
                            </tr> -->
                        </div>
                           <div class="col-12 row">
                                <!-- <td>
                                    <mat-label>Grade</mat-label><br>
                                    <mat-form-field class="matformfieldform"
                                        (click)="gradeName()">
                                        <input #rmInput matInput placeholder="Select Role"
                                            formControlName="grade" [matAutocomplete]="rmemp">
                                            <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                        <mat-autocomplete #rmemp="matAutocomplete" [displayWith]="displayFnGrade"
                                            (opened)="autocompleteGradeScroll()">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let grade of gradeList" [value]="grade">
                                                    {{grade.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </td> -->
                                <!-- <td>
                                    <mat-label>Entity</mat-label><br>
                                    <mat-form-field class="matformfieldform">
                                        <mat-select formControlName="entity_id" [placeholder]="'Entity'">
                                            <mat-option *ngFor="let entity of entityList" 
                                                [value]="entity.id">
                                                {{entity.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </td> -->
                                <!-- <td>
                                    <mat-label class="matformfieldformleft">Entity</mat-label><br>
                                    <mat-form-field class="matformfieldformleft" (click)="orgtypename()">
        
                                        <input #orgtypesInput placeholder="Select Entity"
                                            matInput formControlName="entity_id" [matAutocomplete]="orgtype">
                                            <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                        <mat-autocomplete #orgtype="matAutocomplete" [displayWith]="displayFnorgtypes"
                                        (poened)="autocompleteorgScroll()">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let orgtype of orgtypeList" [value]="orgtype">
                                                    {{orgtype.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </td> -->
                                <div class="col-md-4">
                                    <mat-label>Functional Head<label class="color">*</label></mat-label><br>
                                    <mat-form-field class="matformfieldform"
                                        (click)="functionalHead()">
                                        <input #fnInput matInput formControlName="functional_head" placeholder="Select Functional Head" [matAutocomplete]="fn">
                                            <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                        <mat-autocomplete #fn="matAutocomplete" [displayWith]="displayFnFunHead"
                                        (opened)="autocompleteFunctionalHeadScroll()">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let fun of functionalHeadList" [value]="fun">
                                                    {{fun.full_name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-label class="matformfieldformleft">Employee Branch<label class="color">*</label></mat-label><br>
                                    <mat-form-field class="matformfieldformleft"
                                        (click)="employeeBranchName()">
                                        <input #empbranchInput matInput formControlName="emp_branch" placeholder="Select Employee Branch" [matAutocomplete]="empbranch">
                                            <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                        <mat-autocomplete #empbranch="matAutocomplete" [displayWith]="displayFnEmpbranch">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let empbranch of empBranchList" [value]="empbranch">
                                                    {{empbranch.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-label class="matformfieldformleft">Employment Type<label class="color">*</label></mat-label><br>
                                    <mat-form-field class="matformfieldformleft"
                                        (click)="getEmploymentType()">        
                                            <mat-select formControlName="employment_type"  placeholder="Select Employment Type">                                
                                                <mat-option *ngFor="let type of employmentTypeList" [value]="type.id">
                                                    {{type?.name}}
                                                </mat-option>  
                                            </mat-select>                                      
                                    </mat-form-field>
                                </div>
                                </div>
                            <div class="col-12 row">
                                <!-- <td>
                                    <mat-label>Employee Branch</mat-label><br>
                                    <mat-form-field class="matformfieldform"
                                        (click)="employeeBranchName()">
                                        <input #empbranchInput matInput formControlName="emp_branch" placeholder="Select Employee Branch" [matAutocomplete]="empbranch">
                                            <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                        <mat-autocomplete #empbranch="matAutocomplete" [displayWith]="displayFnEmpbranch">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let empbranch of empBranchList" [value]="empbranch">
                                                    {{empbranch.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </td> -->
                                <!-- <td> -->
                                    <div class="col-md-4">
                                    <mat-label>Business Segment<label class="color">*</label></mat-label><br>
                                    <mat-form-field class="matformfieldform"
                                        (click)="businessSegmentName()">
                                        <input #bsInput matInput formControlName="businesssegment" placeholder="Select BS" [matAutocomplete]="bs">
                                            <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                        <mat-autocomplete #bs="matAutocomplete" [displayWith]="displayFnBs">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let bs of bsList" (focusout)="FocusOut_select_businessSegment(bs)" [value]="bs">
                                                    {{bs.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                                <!-- </td>
                                <td> -->
                                    <div class="col-md-4">
                                    <mat-label class="matformfieldformleft">Cost Center<label class="color">*</label></mat-label><br>
                                    <mat-form-field class="matformfieldformleft"
                                        (click)="costCenterName()">
                                        <input #ccInput matInput formControlName="costcentre" placeholder="Select CC" [matAutocomplete]="cc">
                                            <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                        <mat-autocomplete #cc="matAutocomplete" [displayWith]="displayFnCc">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let cc of ccList" [value]="cc">
                                                    {{cc.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                                <!-- </td>
                                <td> -->
                                    <div class="col-md-4">
                                    <mat-label class="matformfieldformleft">Department<label class="color">*</label></mat-label><br>
                                    <mat-form-field class="matformfieldformleft" (click)="orgtypename()">
        
                                        <input #orgtypesInput placeholder="Select Department"
                                            matInput formControlName="department_id" [matAutocomplete]="orgtype">
                                            <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                        <mat-autocomplete #orgtype="matAutocomplete" [displayWith]="displayFnorgtypes"
                                        (poened)="autocompleteorgScroll()">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let orgtype of orgtypeList" [value]="orgtype">
                                                    {{orgtype.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </div>
                                <!-- </td>
                            </tr>  -->
                        </div>
                        <div class="col-12 row">
                            <!-- <tr> -->
                                <!-- <td>
                                    <mat-label>Department</mat-label><br>
                                    <mat-form-field class="matformfieldform" (click)="orgtypename()">
        
                                        <input #orgtypesInput placeholder="Select Department"
                                            matInput formControlName="department_id" [matAutocomplete]="orgtype">
                                            <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                        <mat-autocomplete #orgtype="matAutocomplete" [displayWith]="displayFnorgtypes"
                                        (poened)="autocompleteorgScroll()">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let orgtype of orgtypeList" [value]="orgtype">
                                                    {{orgtype.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </td> -->
                                <!-- <td> -->
                                    <div class="col-md-4">
                                    <mat-label>Standard CTC </mat-label><br>
                                    <mat-form-field class="matformfieldform">
                                        <input type="text" placeholder="Standard CTC"
                                            formControlName="standard_ctc" matInput autocomplete="off">
                                        <mat-hint>
                                            <h3>{{empAddForm.value.standard_ctc | amountPipe}}</h3>
                                        </mat-hint>
                                    </mat-form-field>
                                </div>
                                <!-- </td>
                                <td> -->
                                    <div class="col-md-4">
                                    <mat-label class="matformfieldformleft">PF Type</mat-label><br>
                                    <mat-form-field class="matformfieldformleft">
                                        <mat-select formControlName="pf_type" [placeholder]="'PF Amount'">
                                            <mat-option *ngFor="let pfamount of pfamountList" (click)="regStatusDropDown(pfamount)"
                                                [value]="pfamount.id">
                                                {{pfamount.name}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <!-- </td> -->
                                <div class="col-md-4" *ngIf="isShowPF_percentage">
                                    <mat-label class="matformfieldformleft">PF%</mat-label><br>
                                    <mat-form-field class="matformfieldformleft">
                                        <input matInput placeholder="PF%" (keypress)="keyPressNumbersDecimal($event)" maxlength="4"
                                         formControlName="pf_percentage" autocomplete="off">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-4">
                                    <mat-label class="matformfieldformleft" >Payroll Date<label class="color"></label></mat-label><br>
                                    <mat-form-field class="matformfieldformleft margin_style">
            
                                        <input matInput readonly [matDatepicker]="picker3"
                                             formControlName="payroll_date">
                                        <mat-datepicker-toggle class="maticonsize" matSuffix [for]="picker3">
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #picker3></mat-datepicker>
                                    </mat-form-field>
                                </div>
                                <!-- </td> -->
                            <!-- </tr> -->
                        </div>
                           <div class="col-12 ml-2 mt-2 row">
                                <!-- <td> -->
                                    <mat-checkbox class="example-margin" [color]="setcolor" formControlName="disability" >Disability(Yes/No)
                                    </mat-checkbox>
                                <!-- </td> -->
                                <!-- <td>
                                    <mat-label class="matformfildformleft">Effective From</mat-label><br>
                                    <mat-form-field class="matformfieldformleft">
                                        <input matInput readonly [matDatepicker]="picker4"
                                             formControlName="effective_from">
                                        <mat-datepicker-toggle class="maticonsize" matSuffix [for]="picker4">
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #picker4></mat-datepicker>
                                    </mat-form-field>
                                </td> -->
                                <!-- <td>
                                    <mat-label>Work Mode</mat-label><br>
                                    <mat-form-field class="matformfieldform"
                                        (click)="workModeName()">
                                        <input #gstInput matInput formControlName="workmode" placeholder="Select Work Mode" [matAutocomplete]="work">
                                            <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                        <mat-autocomplete #work="matAutocomplete" [displayWith]="displayFnWorkMode">
                                            <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                            <ng-container *ngIf="!isLoading">
                                                <mat-option *ngFor="let work of workmodeList" [value]="work">
                                                    {{work.name}}
                                                </mat-option>
                                            </ng-container>
                                        </mat-autocomplete>
                                    </mat-form-field>
                                </td> -->
                            <!-- </tr>                     -->
                        </div>
                        <!-- </div> -->
                    <!-- </div> -->
                    <div class="display">
                        <button class="btn btn-secondary" (click)="onEmp_detailCancelClick()">Back</button>
                        <button class="btn btn-primary ml-3" matStepperNext>Next</button>
                    </div>
                     </div>
                     </form>
                    </mat-step>
                    <mat-step [stepControl]="AddressForm" label="Address" state="contact_mail">
                     <form [formGroup]="AddressForm">
                     <div *ngIf="address">
                        <b class="blue ml-4">Temporary address</b><b class="boldheading blue">Permanent address</b> &nbsp;&nbsp;&nbsp; 
                        <button mat-raised-button>Copy</button>
                        <div class="row col-12" formArrayName="address">
                            <div class="column "
                                *ngFor="let addressgrp of AddressForm.controls.address['controls'];let i = index"
                                [formGroupName]="i">
                                <div class="col-12 row">
                                    
                                    <div class="col-6">
                                        <mat-label>Address</mat-label><br>
                                        <mat-form-field class="matformfieldform">
                                            <input matInput [readonly]="true" formControlName="line1" autocomplete="off" placeholder="Address"
                                                type="text" (keypress)="addressvalidation($event)">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-6">
                                        <mat-label class="matformfieldformleft">Address 2</mat-label><br>
                                        <mat-form-field class="matformfieldformleft">
                                            <input matInput [readonly]="true"  type="text" placeholder="Address 2"
                                                (keypress)="addressvalidation($event)" formControlName="line2"
                                                autocomplete="off">
                                        </mat-form-field>
                                    </div>
                                   
                                </div>
                                <div class="col-12 row">
                                    <div class="col-6">
                                        <mat-label>Address 3</mat-label><br>
                                        <mat-form-field class="matformfieldform">
                                            <input matInput [readonly]="true" formControlName="line3" type="text" placeholder="Address 3"
                                                (keypress)="addressvalidation($event)" autocomplete="off">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-6">
                                        <mat-label class="matformfieldformleft">Pin Code</mat-label><br>
                                        <mat-form-field class="matformfieldformleft" (click)="pincodename(i)">
                                           
                                            <input #pinCodeInput maxlength="6" [readonly]="true" matInput placeholder="Select Pincode"
                                                formControlName="pincode_id" autocomplete="off" [matAutocomplete]="pintype">
                                                <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                            <mat-autocomplete #pintype="matAutocomplete" [displayWith]="displayFnpin"
                                                (opened)="pinCodeScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let pin of pinCodeList" (focusout)="pinCode(pin)"
                                                        [value]="pin">
                                                        {{pin.no}}
                                                    </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                </div>
        
        
                                <div class="col-12 row">
                                    <div class="col-6">
                                        <mat-label>City</mat-label><br>
                                        <mat-form-field class="matformfieldform" (click)="cityname(i)">
                                            
                                            <input #cityInput matInput [readonly]="true" formControlName="city_id" autocomplete="off"
                                                [matAutocomplete]="autocit" placeholder="Select City">
                                                <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                            <mat-autocomplete #autocit="matAutocomplete" [displayWith]="displaycit"
                                                (opened)="cityScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let city of cityList" 
                                                        [value]="city">{{city.name}}
                                                    </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-6">
                                        <mat-label class="matformfieldformleft">District</mat-label><br>
                                        <mat-form-field class="matformfieldformleft" (click)="districtname(i)">
                                            
                                            <input #districtInput matInput [readonly]="true" formControlName="district_id" placeholder="Select District"
                                                 autocomplete="off" [matAutocomplete]="autodis">
                                                <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                            <mat-autocomplete #autodis="matAutocomplete" [displayWith]="displaydis"
                                                (opened)="districtScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let district of districtList"
                                                        [value]="district">{{district.name}}
                                                    </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-12">
                                        <mat-label>State</mat-label><br>
                                        <mat-form-field class="matformfieldform" (click)="statename(i)" style="width: 95%;">
                                            
                                            <input #stateInput matInput [readonly]="true" formControlName="state_id"
                                                autocomplete="off" [matAutocomplete]="statetype" placeholder="Select State">
                                                <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                            <mat-autocomplete #statetype="matAutocomplete" [displayWith]="displayFnstate"
                                                (opened)="stateScroll()">
                                                <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                                <ng-container *ngIf="!isLoading">
                                                    <mat-option *ngFor="let state of stateList"
                                                        [value]="state">
                                                        {{state.name}}
                                                    </mat-option>
                                                </ng-container>
                                            </mat-autocomplete>
                                        </mat-form-field>
                                    </div>
                            </div>
                        </div>
                    </div>
                    <div class="display">
                        <button class="btn btn-secondary" matStepperPrevious>Previous</button>
                        <button class="btn btn-primary ml-2" matStepperNext>Next</button>
                    </div>
                </form>
            </mat-step>
            <mat-step [stepControl]="BankForm" label="Employee Bank" state="Bank">
                <form [formGroup]="BankForm">
                    <div *ngIf="employeeBank">
                        <div class="col-12 d-flex justify-content-space=between" style="justify-content:space-between;">
                            <h2 class="ml-2">Employee Bank Info</h2>
                            <!-- <button type="button" style="border-radius: 10px ;
                                    " class="btn btn-primary pt-0 pb-0" 
                                        (click)="addSection()"><i class="fa fa-plus-circle"></i> Add More</button> -->
                                        <i class="fa fa-fade fa-plus-circle text-primary" style="height: 50px;font-size:30px;cursor:pointer"matTooltip="Employee Add" (click)="addSection()"></i>
                            </div>
                       
                                    <!-- background-color: #f5c68b; -->
                                    <!-- border-color: #f5c68b -->
                        <div class="mt-3">
                        <ng-container  formArrayName="employeebankinfo"
                        *ngFor="let section of getSections(BankForm); let i = index">
                        <div [formGroupName]="i" >
                        <div class="col-md-12 row">
                            <div class="col-md-11 row">
                            <div class="col-md-3">
                                <mat-label>Bank</mat-label><br>
                                <mat-form-field class="matformfieldform" (click)="bankName(i)">
                                   
                                    <input #bankInput matInput placeholder="Select Bank"
                                        formControlName="bank_id" autocomplete="off" [matAutocomplete]="banktype">
                                        <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                    <mat-autocomplete #banktype="matAutocomplete" [displayWith]="displayFnbank">
                                        <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                        <ng-container *ngIf="!isLoading">
                                            <mat-option *ngFor="let bank of bankList" (focusout)="bankFocusOut(bank)"
                                                [value]="bank">
                                                {{bank.name}}
                                            </mat-option>
                                        </ng-container>
                                    </mat-autocomplete>
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-label class="matformfieldformleft">Branch</mat-label><br>
                                <mat-form-field class="matformfieldformleft" (click)="bankbranchname(i)">
                                    
                                    <input #bankbranchInput matInput formControlName="branch_id"
                                        autocomplete="off" [matAutocomplete]="bankbranchtype" placeholder="Select Branch">
                                        <mat-icon matSuffix class="maticonsize" >unfold_more</mat-icon>
                                    <mat-autocomplete #bankbranchtype="matAutocomplete" [displayWith]="displayFnbankbranch"
                                       >
                                        <mat-option *ngIf="isLoading" class="is-loading">Loading...</mat-option>
                                        <ng-container *ngIf="!isLoading">
                                            <mat-option *ngFor="let bankbranch of bankbranchList"
                                                [value]="bankbranch">
                                                {{bankbranch.name}}
                                            </mat-option>
                                        </ng-container>
                                    </mat-autocomplete>
                                </mat-form-field>
                             </div>
                            <div class="col-md-3">
                                <mat-label class="matformfieldformleft">Account No</mat-label><br>
                                <mat-form-field class="matformfieldformleft">
                                    <input matInput (keypress)="omit_special_char($event)" placeholder="Account No"
                                        [maxlength]="maxlength" formControlName="account_no" autocomplete="off">
                                </mat-form-field>
                            </div>
                            <div class="col-md-3">
                                <mat-label class="matformfieldformleft">IFSC Code</mat-label><br>
                                <mat-form-field class="matformfieldformleft">
                                    <input matInput (keypress)="omit_special_char($event)" placeholder="Ifsc code"
                                        [maxlength]="maxlength" formControlName="ifsc" autocomplete="off">
                                </mat-form-field>
                            </div>
  
                        </div>
                        
                        <div class="col-md-1">
                            <i *ngIf="BankForm.get('employeebankinfo')['controls'].length>1" class="fa fa-fade fa-minus-circle text-danger mt-4" style="height: 50px;font-size:30px;cursor:pointer;"matTooltip="Employee remove" (click)="removeSection(i)"></i>
                        </div>
                        </div>
                        </div>
                        <hr *ngIf="BankForm.get('employeebankinfo')['controls'].length > 1">
                        </ng-container>
                    </div>
                       
                        
    
    
           
    
                    <!-- </table> -->
                    <div style="margin-left: 7px;
                margin-top: 20px;display:flex;align-items:center">
                    <button type="button" class="btn btn-light text-secondary" style="border-radius: 7px;margin-left: 10px;
                            border-color:grey;
                            background-color: white;" (click)="onEmp_detailCancelClick()" >Back</button>
                            <button type="button" class="btn btn-warning" style="margin-left:10px;border-radius:7px" matStepperPrevious>Previous</button>
                    
                    <button type="button" style="border-radius: 7px;margin-left: 10px;
                        " class="btn btn-secondary text-light"
                        (click)="onSubmitEmp_detailClick()" [disabled]="!BankForm.valid">Submit</button>
                        <!-- border-color: #f5c68b; background-color: #f5c68b; -->
                        
            
                </div>
            </div>
                </form>
            </mat-step>


            </mat-horizontal-stepper>
    
            </div>
    
      
 
        </div>
    </mat-card>
</div>
<!-- <ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" [fullScreen]="true" type="ball-spin-clockwise">
    <p style="color: white">Please Wait. </p>
</ngx-spinner> -->
